{"version":3,"sources":["public/src/admin/advanced/logs.js"],"names":["define","Logs","init","logsEl","$","scrollTop","prop","affix","find","on","btnEl","this","action","attr","socket","emit","err","logs","text","app","alertError","message","alertSuccess","prev","click"],"mappings":"AAAA,aAGAA,OAAO,sBAAuB,WAC7B,IAAIC,KAEJA,EAAKC,KAAO,WACX,IAAIC,EAASC,EAAE,aACfD,EAAOE,UAAUF,EAAOG,KAAK,iBAE7BF,EAAE,UAAUG,QAEZH,EAAE,SAASI,KAAK,uBAAuBC,GAAG,QAAS,WAClD,IAAIC,EAAQN,EAAEO,MACd,IAAIC,EAASF,EAAMG,KAAK,eAExB,OAAQD,GACP,IAAK,SACJE,OAAOC,KAAK,iBAAkB,SAAUC,EAAKC,GAC5C,IAAKD,EAAK,CACTb,EAAOe,KAAKD,GACZd,EAAOE,UAAUF,EAAOG,KAAK,qBACvB,CACNa,IAAIC,WAAWJ,EAAIK,YAGrB,MAED,IAAK,QACJP,OAAOC,KAAK,mBAAoB,SAAUC,GACzC,IAAKA,EAAK,CACTG,IAAIG,aAAa,yCACjBZ,EAAMa,OAAOC,WAGf,UAKJ,OAAOvB","file":"public/src/admin/advanced/logs.js","sourcesContent":["'use strict';\r\n\r\n\r\ndefine('admin/advanced/logs', function () {\r\n\tvar\tLogs = {};\r\n\r\n\tLogs.init = function () {\r\n\t\tvar logsEl = $('.logs pre');\r\n\t\tlogsEl.scrollTop(logsEl.prop('scrollHeight'));\r\n\t\t// Affix menu\r\n\t\t$('.affix').affix();\r\n\r\n\t\t$('.logs').find('button[data-action]').on('click', function () {\r\n\t\t\tvar btnEl = $(this);\r\n\t\t\tvar action = btnEl.attr('data-action');\r\n\r\n\t\t\tswitch (action) {\r\n\t\t\t\tcase 'reload':\r\n\t\t\t\t\tsocket.emit('admin.logs.get', function (err, logs) {\r\n\t\t\t\t\t\tif (!err) {\r\n\t\t\t\t\t\t\tlogsEl.text(logs);\r\n\t\t\t\t\t\t\tlogsEl.scrollTop(logsEl.prop('scrollHeight'));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tapp.alertError(err.message);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'clear':\r\n\t\t\t\t\tsocket.emit('admin.logs.clear', function (err) {\r\n\t\t\t\t\t\tif (!err) {\r\n\t\t\t\t\t\t\tapp.alertSuccess('[[admin/advanced/logs:clear-success]]');\r\n\t\t\t\t\t\t\tbtnEl.prev().click();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\treturn Logs;\r\n});\r\n"]}