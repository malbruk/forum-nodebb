{"version":3,"sources":["public/src/admin/manage/category-analytics.js"],"names":["define","Chart","CategoryAnalytics","init","hourlyCanvas","document","getElementById","dailyCanvas","topicsCanvas","postsCanvas","hourlyLabels","utils","getHoursArray","map","text","idx","dailyLabels","getDaysArray","isMobile","defaults","global","tooltips","enabled","data","pageviews:hourly","labels","datasets","label","backgroundColor","borderColor","pointBackgroundColor","pointHoverBackgroundColor","pointBorderColor","pointHoverBorderColor","ajaxify","analytics","pageviews:daily","topics:daily","slice","posts:daily","width","$","parent","getContext","type","options","responsive","animation","legend","display","scales","yAxes","ticks","beginAtZero","precision"],"mappings":"AAAA,aAGAA,OAAO,mCAAoC,SAAU,SAAUC,GAC9D,IAAIC,KAEJA,EAAkBC,KAAO,WACxB,IAAIC,EAAeC,SAASC,eAAe,oBAC3C,IAAIC,EAAcF,SAASC,eAAe,mBAC1C,IAAIE,EAAeH,SAASC,eAAe,gBAC3C,IAAIG,EAAcJ,SAASC,eAAe,eAC1C,IAAII,EAAeC,MAAMC,gBAAgBC,IAAI,SAAUC,EAAMC,GAC5D,OAAOA,EAAM,EAAI,GAAKD,IAEvB,IAAIE,EAAcL,MAAMM,eAAeJ,IAAI,SAAUC,EAAMC,GAC1D,OAAOA,EAAM,EAAI,GAAKD,IAGvB,GAAIH,MAAMO,WAAY,CACrBjB,EAAMkB,SAASC,OAAOC,SAASC,QAAU,MAG1C,IAAIC,GACHC,oBACCC,OAAQf,EACRgB,WAEEC,MAAO,GACPC,gBAAiB,wBACjBC,YAAa,sBACbC,qBAAsB,sBACtBC,0BAA2B,OAC3BC,iBAAkB,OAClBC,sBAAuB,sBACvBV,KAAMW,QAAQX,KAAKY,UAAU,uBAIhCC,mBACCX,OAAQT,EACRU,WAEEC,MAAO,GACPC,gBAAiB,wBACjBC,YAAa,sBACbC,qBAAsB,sBACtBC,0BAA2B,OAC3BC,iBAAkB,OAClBC,sBAAuB,sBACvBV,KAAMW,QAAQX,KAAKY,UAAU,sBAIhCE,gBACCZ,OAAQT,EAAYsB,OAAO,GAC3BZ,WAEEC,MAAO,GACPC,gBAAiB,sBACjBC,YAAa,oBACbC,qBAAsB,oBACtBC,0BAA2B,OAC3BC,iBAAkB,OAClBC,sBAAuB,oBACvBV,KAAMW,QAAQX,KAAKY,UAAU,mBAIhCI,eACCd,OAAQT,EAAYsB,OAAO,GAC3BZ,WAEEC,MAAO,GACPC,gBAAiB,wBACjBC,YAAa,sBACbC,qBAAsB,sBACtBC,0BAA2B,OAC3BC,iBAAkB,OAClBC,sBAAuB,sBACvBV,KAAMW,QAAQX,KAAKY,UAAU,mBAMjC/B,EAAaoC,MAAQC,EAAErC,GAAcsC,SAASF,QAC9CjC,EAAYiC,MAAQC,EAAElC,GAAamC,SAASF,QAC5ChC,EAAagC,MAAQC,EAAEjC,GAAckC,SAASF,QAC9C/B,EAAY+B,MAAQC,EAAEhC,GAAaiC,SAASF,QAE5C,IAAIvC,EAAMG,EAAauC,WAAW,OACjCC,KAAM,OACNrB,KAAMA,EAAK,oBACXsB,SACCC,WAAY,KACZC,UAAW,MACXC,QACCC,QAAS,OAEVC,QACCC,QACCC,OACCC,YAAa,KACbC,UAAW,SAOhB,IAAIrD,EAAMM,EAAYoC,WAAW,OAChCC,KAAM,OACNrB,KAAMA,EAAK,mBACXsB,SACCC,WAAY,KACZC,UAAW,MACXC,QACCC,QAAS,OAEVC,QACCC,QACCC,OACCC,YAAa,KACbC,UAAW,SAOhB,IAAIrD,EAAMO,EAAamC,WAAW,OACjCC,KAAM,OACNrB,KAAMA,EAAK,gBACXsB,SACCC,WAAY,KACZC,UAAW,MACXC,QACCC,QAAS,OAEVC,QACCC,QACCC,OACCC,YAAa,KACbC,UAAW,SAOhB,IAAIrD,EAAMQ,EAAYkC,WAAW,OAChCC,KAAM,OACNrB,KAAMA,EAAK,eACXsB,SACCC,WAAY,KACZC,UAAW,MACXC,QACCC,QAAS,OAEVC,QACCC,QACCC,OACCC,YAAa,KACbC,UAAW,UAQjB,OAAOpD","file":"public/src/admin/manage/category-analytics.js","sourcesContent":["'use strict';\r\n\r\n\r\ndefine('admin/manage/category-analytics', ['Chart'], function (Chart) {\r\n\tvar CategoryAnalytics = {};\r\n\r\n\tCategoryAnalytics.init = function () {\r\n\t\tvar hourlyCanvas = document.getElementById('pageviews:hourly');\r\n\t\tvar\tdailyCanvas = document.getElementById('pageviews:daily');\r\n\t\tvar\ttopicsCanvas = document.getElementById('topics:daily');\r\n\t\tvar\tpostsCanvas = document.getElementById('posts:daily');\r\n\t\tvar\thourlyLabels = utils.getHoursArray().map(function (text, idx) {\r\n\t\t\treturn idx % 3 ? '' : text;\r\n\t\t});\r\n\t\tvar\tdailyLabels = utils.getDaysArray().map(function (text, idx) {\r\n\t\t\treturn idx % 3 ? '' : text;\r\n\t\t});\r\n\r\n\t\tif (utils.isMobile()) {\r\n\t\t\tChart.defaults.global.tooltips.enabled = false;\r\n\t\t}\r\n\r\n\t\tvar data = {\r\n\t\t\t'pageviews:hourly': {\r\n\t\t\t\tlabels: hourlyLabels,\r\n\t\t\t\tdatasets: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: '',\r\n\t\t\t\t\t\tbackgroundColor: 'rgba(186,139,175,0.2)',\r\n\t\t\t\t\t\tborderColor: 'rgba(186,139,175,1)',\r\n\t\t\t\t\t\tpointBackgroundColor: 'rgba(186,139,175,1)',\r\n\t\t\t\t\t\tpointHoverBackgroundColor: '#fff',\r\n\t\t\t\t\t\tpointBorderColor: '#fff',\r\n\t\t\t\t\t\tpointHoverBorderColor: 'rgba(186,139,175,1)',\r\n\t\t\t\t\t\tdata: ajaxify.data.analytics['pageviews:hourly'],\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t\t'pageviews:daily': {\r\n\t\t\t\tlabels: dailyLabels,\r\n\t\t\t\tdatasets: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: '',\r\n\t\t\t\t\t\tbackgroundColor: 'rgba(151,187,205,0.2)',\r\n\t\t\t\t\t\tborderColor: 'rgba(151,187,205,1)',\r\n\t\t\t\t\t\tpointBackgroundColor: 'rgba(151,187,205,1)',\r\n\t\t\t\t\t\tpointHoverBackgroundColor: '#fff',\r\n\t\t\t\t\t\tpointBorderColor: '#fff',\r\n\t\t\t\t\t\tpointHoverBorderColor: 'rgba(151,187,205,1)',\r\n\t\t\t\t\t\tdata: ajaxify.data.analytics['pageviews:daily'],\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t\t'topics:daily': {\r\n\t\t\t\tlabels: dailyLabels.slice(-7),\r\n\t\t\t\tdatasets: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: '',\r\n\t\t\t\t\t\tbackgroundColor: 'rgba(171,70,66,0.2)',\r\n\t\t\t\t\t\tborderColor: 'rgba(171,70,66,1)',\r\n\t\t\t\t\t\tpointBackgroundColor: 'rgba(171,70,66,1)',\r\n\t\t\t\t\t\tpointHoverBackgroundColor: '#fff',\r\n\t\t\t\t\t\tpointBorderColor: '#fff',\r\n\t\t\t\t\t\tpointHoverBorderColor: 'rgba(171,70,66,1)',\r\n\t\t\t\t\t\tdata: ajaxify.data.analytics['topics:daily'],\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t\t'posts:daily': {\r\n\t\t\t\tlabels: dailyLabels.slice(-7),\r\n\t\t\t\tdatasets: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: '',\r\n\t\t\t\t\t\tbackgroundColor: 'rgba(161,181,108,0.2)',\r\n\t\t\t\t\t\tborderColor: 'rgba(161,181,108,1)',\r\n\t\t\t\t\t\tpointBackgroundColor: 'rgba(161,181,108,1)',\r\n\t\t\t\t\t\tpointHoverBackgroundColor: '#fff',\r\n\t\t\t\t\t\tpointBorderColor: '#fff',\r\n\t\t\t\t\t\tpointHoverBorderColor: 'rgba(161,181,108,1)',\r\n\t\t\t\t\t\tdata: ajaxify.data.analytics['posts:daily'],\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\thourlyCanvas.width = $(hourlyCanvas).parent().width();\r\n\t\tdailyCanvas.width = $(dailyCanvas).parent().width();\r\n\t\ttopicsCanvas.width = $(topicsCanvas).parent().width();\r\n\t\tpostsCanvas.width = $(postsCanvas).parent().width();\r\n\r\n\t\tnew Chart(hourlyCanvas.getContext('2d'), {\r\n\t\t\ttype: 'line',\r\n\t\t\tdata: data['pageviews:hourly'],\r\n\t\t\toptions: {\r\n\t\t\t\tresponsive: true,\r\n\t\t\t\tanimation: false,\r\n\t\t\t\tlegend: {\r\n\t\t\t\t\tdisplay: false,\r\n\t\t\t\t},\r\n\t\t\t\tscales: {\r\n\t\t\t\t\tyAxes: [{\r\n\t\t\t\t\t\tticks: {\r\n\t\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\t\tprecision: 0,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}],\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\tnew Chart(dailyCanvas.getContext('2d'), {\r\n\t\t\ttype: 'line',\r\n\t\t\tdata: data['pageviews:daily'],\r\n\t\t\toptions: {\r\n\t\t\t\tresponsive: true,\r\n\t\t\t\tanimation: false,\r\n\t\t\t\tlegend: {\r\n\t\t\t\t\tdisplay: false,\r\n\t\t\t\t},\r\n\t\t\t\tscales: {\r\n\t\t\t\t\tyAxes: [{\r\n\t\t\t\t\t\tticks: {\r\n\t\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\t\tprecision: 0,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}],\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\tnew Chart(topicsCanvas.getContext('2d'), {\r\n\t\t\ttype: 'line',\r\n\t\t\tdata: data['topics:daily'],\r\n\t\t\toptions: {\r\n\t\t\t\tresponsive: true,\r\n\t\t\t\tanimation: false,\r\n\t\t\t\tlegend: {\r\n\t\t\t\t\tdisplay: false,\r\n\t\t\t\t},\r\n\t\t\t\tscales: {\r\n\t\t\t\t\tyAxes: [{\r\n\t\t\t\t\t\tticks: {\r\n\t\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\t\tprecision: 0,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}],\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\tnew Chart(postsCanvas.getContext('2d'), {\r\n\t\t\ttype: 'line',\r\n\t\t\tdata: data['posts:daily'],\r\n\t\t\toptions: {\r\n\t\t\t\tresponsive: true,\r\n\t\t\t\tanimation: false,\r\n\t\t\t\tlegend: {\r\n\t\t\t\t\tdisplay: false,\r\n\t\t\t\t},\r\n\t\t\t\tscales: {\r\n\t\t\t\t\tyAxes: [{\r\n\t\t\t\t\t\tticks: {\r\n\t\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\t\tprecision: 0,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}],\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t});\r\n\t};\r\n\r\n\treturn CategoryAnalytics;\r\n});\r\n"]}