{"version":3,"sources":["node_modules/jquery-ui/ui/widgets/menu.js"],"names":["factory","define","amd","jQuery","$","widget","version","defaultElement","delay","options","icons","submenu","items","menus","position","my","at","role","blur","focus","select","_create","this","activeMenu","element","mouseHandled","uniqueId","attr","tabIndex","_addClass","_on","mousedown .ui-menu-item","event","preventDefault","click .ui-menu-item","target","active","ui","safeActiveElement","document","not","length","isPropagationStopped","has","expand","is","closest","trigger","parents","clearTimeout","timer","mouseenter .ui-menu-item","previousFilter","actualTarget","currentTarget","_removeClass","siblings","children","mouseleave","mouseleave .ui-menu","keepActiveItem","item","find","eq","_delay","notContained","contains","collapseAll","keydown","refresh","click","_closeOnDocumentClick","_destroy","removeAttr","submenus","removeUniqueId","addBack","show","each","elem","data","remove","_keydown","match","prev","character","skip","keyCode","PAGE_UP","previousPage","PAGE_DOWN","nextPage","HOME","_move","END","UP","previous","DOWN","next","LEFT","collapse","RIGHT","ENTER","SPACE","_activate","ESCAPE","toString","String","fromCharCode","filterTimer","_filterMenuItems","index","nextAll","newSubmenus","newItems","newWrappers","that","icon","_toggleClass","filter","hide","aria-hidden","aria-expanded","menu","submenuCaret","prepend","add","_isDivider","_itemRole","listbox","_setOption","key","value","_super","_setOptionDisabled","nested","focused","activeParent","type","_scrollIntoView","first","parent","_close","test","_startOpening","_trigger","borderTop","paddingTop","offset","scroll","elementHeight","itemHeight","_hasScroll","parseFloat","css","top","scrollTop","height","outerHeight","fromFocus","_open","extend","of","all","currentMenu","startMenu","text","newItem","isFirstItem","prevAll","isLastItem","direction","base","prop","escapedCharacter","replace","regex","RegExp","trim"],"mappings":"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","file":"node_modules/jquery-ui/ui/widgets/menu.js","sourcesContent":["/*!\n * jQuery UI Menu 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: Menu\n//>>group: Widgets\n//>>description: Creates nestable menus.\n//>>docs: http://api.jqueryui.com/menu/\n//>>demos: http://jqueryui.com/menu/\n//>>css.structure: ../../themes/base/core.css\n//>>css.structure: ../../themes/base/menu.css\n//>>css.theme: ../../themes/base/theme.css\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [\n\t\t\t\"jquery\",\n\t\t\t\"../keycode\",\n\t\t\t\"../position\",\n\t\t\t\"../safe-active-element\",\n\t\t\t\"../unique-id\",\n\t\t\t\"../version\",\n\t\t\t\"../widget\"\n\t\t], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n}( function( $ ) {\n\nreturn $.widget( \"ui.menu\", {\n\tversion: \"1.12.1\",\n\tdefaultElement: \"<ul>\",\n\tdelay: 300,\n\toptions: {\n\t\ticons: {\n\t\t\tsubmenu: \"ui-icon-caret-1-e\"\n\t\t},\n\t\titems: \"> *\",\n\t\tmenus: \"ul\",\n\t\tposition: {\n\t\t\tmy: \"left top\",\n\t\t\tat: \"right top\"\n\t\t},\n\t\trole: \"menu\",\n\n\t\t// Callbacks\n\t\tblur: null,\n\t\tfocus: null,\n\t\tselect: null\n\t},\n\n\t_create: function() {\n\t\tthis.activeMenu = this.element;\n\n\t\t// Flag used to prevent firing of the click handler\n\t\t// as the event bubbles up through nested menus\n\t\tthis.mouseHandled = false;\n\t\tthis.element\n\t\t\t.uniqueId()\n\t\t\t.attr( {\n\t\t\t\trole: this.options.role,\n\t\t\t\ttabIndex: 0\n\t\t\t} );\n\n\t\tthis._addClass( \"ui-menu\", \"ui-widget ui-widget-content\" );\n\t\tthis._on( {\n\n\t\t\t// Prevent focus from sticking to links inside menu after clicking\n\t\t\t// them (focus should always stay on UL during navigation).\n\t\t\t\"mousedown .ui-menu-item\": function( event ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t},\n\t\t\t\"click .ui-menu-item\": function( event ) {\n\t\t\t\tvar target = $( event.target );\n\t\t\t\tvar active = $( $.ui.safeActiveElement( this.document[ 0 ] ) );\n\t\t\t\tif ( !this.mouseHandled && target.not( \".ui-state-disabled\" ).length ) {\n\t\t\t\t\tthis.select( event );\n\n\t\t\t\t\t// Only set the mouseHandled flag if the event will bubble, see #9469.\n\t\t\t\t\tif ( !event.isPropagationStopped() ) {\n\t\t\t\t\t\tthis.mouseHandled = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Open submenu on click\n\t\t\t\t\tif ( target.has( \".ui-menu\" ).length ) {\n\t\t\t\t\t\tthis.expand( event );\n\t\t\t\t\t} else if ( !this.element.is( \":focus\" ) &&\n\t\t\t\t\t\t\tactive.closest( \".ui-menu\" ).length ) {\n\n\t\t\t\t\t\t// Redirect focus to the menu\n\t\t\t\t\t\tthis.element.trigger( \"focus\", [ true ] );\n\n\t\t\t\t\t\t// If the active item is on the top level, let it stay active.\n\t\t\t\t\t\t// Otherwise, blur the active item since it is no longer visible.\n\t\t\t\t\t\tif ( this.active && this.active.parents( \".ui-menu\" ).length === 1 ) {\n\t\t\t\t\t\t\tclearTimeout( this.timer );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"mouseenter .ui-menu-item\": function( event ) {\n\n\t\t\t\t// Ignore mouse events while typeahead is active, see #10458.\n\t\t\t\t// Prevents focusing the wrong item when typeahead causes a scroll while the mouse\n\t\t\t\t// is over an item in the menu\n\t\t\t\tif ( this.previousFilter ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar actualTarget = $( event.target ).closest( \".ui-menu-item\" ),\n\t\t\t\t\ttarget = $( event.currentTarget );\n\n\t\t\t\t// Ignore bubbled events on parent items, see #11641\n\t\t\t\tif ( actualTarget[ 0 ] !== target[ 0 ] ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Remove ui-state-active class from siblings of the newly focused menu item\n\t\t\t\t// to avoid a jump caused by adjacent elements both having a class with a border\n\t\t\t\tthis._removeClass( target.siblings().children( \".ui-state-active\" ),\n\t\t\t\t\tnull, \"ui-state-active\" );\n\t\t\t\tthis.focus( event, target );\n\t\t\t},\n\t\t\tmouseleave: \"collapseAll\",\n\t\t\t\"mouseleave .ui-menu\": \"collapseAll\",\n\t\t\tfocus: function( event, keepActiveItem ) {\n\n\t\t\t\t// If there's already an active item, keep it active\n\t\t\t\t// If not, activate the first item\n\t\t\t\tvar item = this.active || this.element.find( this.options.items ).eq( 0 );\n\n\t\t\t\tif ( !keepActiveItem ) {\n\t\t\t\t\tthis.focus( event, item );\n\t\t\t\t}\n\t\t\t},\n\t\t\tblur: function( event ) {\n\t\t\t\tthis._delay( function() {\n\t\t\t\t\tvar notContained = !$.contains(\n\t\t\t\t\t\tthis.element[ 0 ],\n\t\t\t\t\t\t$.ui.safeActiveElement( this.document[ 0 ] )\n\t\t\t\t\t);\n\t\t\t\t\tif ( notContained ) {\n\t\t\t\t\t\tthis.collapseAll( event );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t},\n\t\t\tkeydown: \"_keydown\"\n\t\t} );\n\n\t\tthis.refresh();\n\n\t\t// Clicks outside of a menu collapse any open menus\n\t\tthis._on( this.document, {\n\t\t\tclick: function( event ) {\n\t\t\t\tif ( this._closeOnDocumentClick( event ) ) {\n\t\t\t\t\tthis.collapseAll( event );\n\t\t\t\t}\n\n\t\t\t\t// Reset the mouseHandled flag\n\t\t\t\tthis.mouseHandled = false;\n\t\t\t}\n\t\t} );\n\t},\n\n\t_destroy: function() {\n\t\tvar items = this.element.find( \".ui-menu-item\" )\n\t\t\t\t.removeAttr( \"role aria-disabled\" ),\n\t\t\tsubmenus = items.children( \".ui-menu-item-wrapper\" )\n\t\t\t\t.removeUniqueId()\n\t\t\t\t.removeAttr( \"tabIndex role aria-haspopup\" );\n\n\t\t// Destroy (sub)menus\n\t\tthis.element\n\t\t\t.removeAttr( \"aria-activedescendant\" )\n\t\t\t.find( \".ui-menu\" ).addBack()\n\t\t\t\t.removeAttr( \"role aria-labelledby aria-expanded aria-hidden aria-disabled \" +\n\t\t\t\t\t\"tabIndex\" )\n\t\t\t\t.removeUniqueId()\n\t\t\t\t.show();\n\n\t\tsubmenus.children().each( function() {\n\t\t\tvar elem = $( this );\n\t\t\tif ( elem.data( \"ui-menu-submenu-caret\" ) ) {\n\t\t\t\telem.remove();\n\t\t\t}\n\t\t} );\n\t},\n\n\t_keydown: function( event ) {\n\t\tvar match, prev, character, skip,\n\t\t\tpreventDefault = true;\n\n\t\tswitch ( event.keyCode ) {\n\t\tcase $.ui.keyCode.PAGE_UP:\n\t\t\tthis.previousPage( event );\n\t\t\tbreak;\n\t\tcase $.ui.keyCode.PAGE_DOWN:\n\t\t\tthis.nextPage( event );\n\t\t\tbreak;\n\t\tcase $.ui.keyCode.HOME:\n\t\t\tthis._move( \"first\", \"first\", event );\n\t\t\tbreak;\n\t\tcase $.ui.keyCode.END:\n\t\t\tthis._move( \"last\", \"last\", event );\n\t\t\tbreak;\n\t\tcase $.ui.keyCode.UP:\n\t\t\tthis.previous( event );\n\t\t\tbreak;\n\t\tcase $.ui.keyCode.DOWN:\n\t\t\tthis.next( event );\n\t\t\tbreak;\n\t\tcase $.ui.keyCode.LEFT:\n\t\t\tthis.collapse( event );\n\t\t\tbreak;\n\t\tcase $.ui.keyCode.RIGHT:\n\t\t\tif ( this.active && !this.active.is( \".ui-state-disabled\" ) ) {\n\t\t\t\tthis.expand( event );\n\t\t\t}\n\t\t\tbreak;\n\t\tcase $.ui.keyCode.ENTER:\n\t\tcase $.ui.keyCode.SPACE:\n\t\t\tthis._activate( event );\n\t\t\tbreak;\n\t\tcase $.ui.keyCode.ESCAPE:\n\t\t\tthis.collapse( event );\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tpreventDefault = false;\n\t\t\tprev = this.previousFilter || \"\";\n\t\t\tskip = false;\n\n\t\t\t// Support number pad values\n\t\t\tcharacter = event.keyCode >= 96 && event.keyCode <= 105 ?\n\t\t\t\t( event.keyCode - 96 ).toString() : String.fromCharCode( event.keyCode );\n\n\t\t\tclearTimeout( this.filterTimer );\n\n\t\t\tif ( character === prev ) {\n\t\t\t\tskip = true;\n\t\t\t} else {\n\t\t\t\tcharacter = prev + character;\n\t\t\t}\n\n\t\t\tmatch = this._filterMenuItems( character );\n\t\t\tmatch = skip && match.index( this.active.next() ) !== -1 ?\n\t\t\t\tthis.active.nextAll( \".ui-menu-item\" ) :\n\t\t\t\tmatch;\n\n\t\t\t// If no matches on the current filter, reset to the last character pressed\n\t\t\t// to move down the menu to the first item that starts with that character\n\t\t\tif ( !match.length ) {\n\t\t\t\tcharacter = String.fromCharCode( event.keyCode );\n\t\t\t\tmatch = this._filterMenuItems( character );\n\t\t\t}\n\n\t\t\tif ( match.length ) {\n\t\t\t\tthis.focus( event, match );\n\t\t\t\tthis.previousFilter = character;\n\t\t\t\tthis.filterTimer = this._delay( function() {\n\t\t\t\t\tdelete this.previousFilter;\n\t\t\t\t}, 1000 );\n\t\t\t} else {\n\t\t\t\tdelete this.previousFilter;\n\t\t\t}\n\t\t}\n\n\t\tif ( preventDefault ) {\n\t\t\tevent.preventDefault();\n\t\t}\n\t},\n\n\t_activate: function( event ) {\n\t\tif ( this.active && !this.active.is( \".ui-state-disabled\" ) ) {\n\t\t\tif ( this.active.children( \"[aria-haspopup='true']\" ).length ) {\n\t\t\t\tthis.expand( event );\n\t\t\t} else {\n\t\t\t\tthis.select( event );\n\t\t\t}\n\t\t}\n\t},\n\n\trefresh: function() {\n\t\tvar menus, items, newSubmenus, newItems, newWrappers,\n\t\t\tthat = this,\n\t\t\ticon = this.options.icons.submenu,\n\t\t\tsubmenus = this.element.find( this.options.menus );\n\n\t\tthis._toggleClass( \"ui-menu-icons\", null, !!this.element.find( \".ui-icon\" ).length );\n\n\t\t// Initialize nested menus\n\t\tnewSubmenus = submenus.filter( \":not(.ui-menu)\" )\n\t\t\t.hide()\n\t\t\t.attr( {\n\t\t\t\trole: this.options.role,\n\t\t\t\t\"aria-hidden\": \"true\",\n\t\t\t\t\"aria-expanded\": \"false\"\n\t\t\t} )\n\t\t\t.each( function() {\n\t\t\t\tvar menu = $( this ),\n\t\t\t\t\titem = menu.prev(),\n\t\t\t\t\tsubmenuCaret = $( \"<span>\" ).data( \"ui-menu-submenu-caret\", true );\n\n\t\t\t\tthat._addClass( submenuCaret, \"ui-menu-icon\", \"ui-icon \" + icon );\n\t\t\t\titem\n\t\t\t\t\t.attr( \"aria-haspopup\", \"true\" )\n\t\t\t\t\t.prepend( submenuCaret );\n\t\t\t\tmenu.attr( \"aria-labelledby\", item.attr( \"id\" ) );\n\t\t\t} );\n\n\t\tthis._addClass( newSubmenus, \"ui-menu\", \"ui-widget ui-widget-content ui-front\" );\n\n\t\tmenus = submenus.add( this.element );\n\t\titems = menus.find( this.options.items );\n\n\t\t// Initialize menu-items containing spaces and/or dashes only as dividers\n\t\titems.not( \".ui-menu-item\" ).each( function() {\n\t\t\tvar item = $( this );\n\t\t\tif ( that._isDivider( item ) ) {\n\t\t\t\tthat._addClass( item, \"ui-menu-divider\", \"ui-widget-content\" );\n\t\t\t}\n\t\t} );\n\n\t\t// Don't refresh list items that are already adapted\n\t\tnewItems = items.not( \".ui-menu-item, .ui-menu-divider\" );\n\t\tnewWrappers = newItems.children()\n\t\t\t.not( \".ui-menu\" )\n\t\t\t\t.uniqueId()\n\t\t\t\t.attr( {\n\t\t\t\t\ttabIndex: -1,\n\t\t\t\t\trole: this._itemRole()\n\t\t\t\t} );\n\t\tthis._addClass( newItems, \"ui-menu-item\" )\n\t\t\t._addClass( newWrappers, \"ui-menu-item-wrapper\" );\n\n\t\t// Add aria-disabled attribute to any disabled menu item\n\t\titems.filter( \".ui-state-disabled\" ).attr( \"aria-disabled\", \"true\" );\n\n\t\t// If the active item has been removed, blur the menu\n\t\tif ( this.active && !$.contains( this.element[ 0 ], this.active[ 0 ] ) ) {\n\t\t\tthis.blur();\n\t\t}\n\t},\n\n\t_itemRole: function() {\n\t\treturn {\n\t\t\tmenu: \"menuitem\",\n\t\t\tlistbox: \"option\"\n\t\t}[ this.options.role ];\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tif ( key === \"icons\" ) {\n\t\t\tvar icons = this.element.find( \".ui-menu-icon\" );\n\t\t\tthis._removeClass( icons, null, this.options.icons.submenu )\n\t\t\t\t._addClass( icons, null, value.submenu );\n\t\t}\n\t\tthis._super( key, value );\n\t},\n\n\t_setOptionDisabled: function( value ) {\n\t\tthis._super( value );\n\n\t\tthis.element.attr( \"aria-disabled\", String( value ) );\n\t\tthis._toggleClass( null, \"ui-state-disabled\", !!value );\n\t},\n\n\tfocus: function( event, item ) {\n\t\tvar nested, focused, activeParent;\n\t\tthis.blur( event, event && event.type === \"focus\" );\n\n\t\tthis._scrollIntoView( item );\n\n\t\tthis.active = item.first();\n\n\t\tfocused = this.active.children( \".ui-menu-item-wrapper\" );\n\t\tthis._addClass( focused, null, \"ui-state-active\" );\n\n\t\t// Only update aria-activedescendant if there's a role\n\t\t// otherwise we assume focus is managed elsewhere\n\t\tif ( this.options.role ) {\n\t\t\tthis.element.attr( \"aria-activedescendant\", focused.attr( \"id\" ) );\n\t\t}\n\n\t\t// Highlight active parent menu item, if any\n\t\tactiveParent = this.active\n\t\t\t.parent()\n\t\t\t\t.closest( \".ui-menu-item\" )\n\t\t\t\t\t.children( \".ui-menu-item-wrapper\" );\n\t\tthis._addClass( activeParent, null, \"ui-state-active\" );\n\n\t\tif ( event && event.type === \"keydown\" ) {\n\t\t\tthis._close();\n\t\t} else {\n\t\t\tthis.timer = this._delay( function() {\n\t\t\t\tthis._close();\n\t\t\t}, this.delay );\n\t\t}\n\n\t\tnested = item.children( \".ui-menu\" );\n\t\tif ( nested.length && event && ( /^mouse/.test( event.type ) ) ) {\n\t\t\tthis._startOpening( nested );\n\t\t}\n\t\tthis.activeMenu = item.parent();\n\n\t\tthis._trigger( \"focus\", event, { item: item } );\n\t},\n\n\t_scrollIntoView: function( item ) {\n\t\tvar borderTop, paddingTop, offset, scroll, elementHeight, itemHeight;\n\t\tif ( this._hasScroll() ) {\n\t\t\tborderTop = parseFloat( $.css( this.activeMenu[ 0 ], \"borderTopWidth\" ) ) || 0;\n\t\t\tpaddingTop = parseFloat( $.css( this.activeMenu[ 0 ], \"paddingTop\" ) ) || 0;\n\t\t\toffset = item.offset().top - this.activeMenu.offset().top - borderTop - paddingTop;\n\t\t\tscroll = this.activeMenu.scrollTop();\n\t\t\telementHeight = this.activeMenu.height();\n\t\t\titemHeight = item.outerHeight();\n\n\t\t\tif ( offset < 0 ) {\n\t\t\t\tthis.activeMenu.scrollTop( scroll + offset );\n\t\t\t} else if ( offset + itemHeight > elementHeight ) {\n\t\t\t\tthis.activeMenu.scrollTop( scroll + offset - elementHeight + itemHeight );\n\t\t\t}\n\t\t}\n\t},\n\n\tblur: function( event, fromFocus ) {\n\t\tif ( !fromFocus ) {\n\t\t\tclearTimeout( this.timer );\n\t\t}\n\n\t\tif ( !this.active ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._removeClass( this.active.children( \".ui-menu-item-wrapper\" ),\n\t\t\tnull, \"ui-state-active\" );\n\n\t\tthis._trigger( \"blur\", event, { item: this.active } );\n\t\tthis.active = null;\n\t},\n\n\t_startOpening: function( submenu ) {\n\t\tclearTimeout( this.timer );\n\n\t\t// Don't open if already open fixes a Firefox bug that caused a .5 pixel\n\t\t// shift in the submenu position when mousing over the caret icon\n\t\tif ( submenu.attr( \"aria-hidden\" ) !== \"true\" ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.timer = this._delay( function() {\n\t\t\tthis._close();\n\t\t\tthis._open( submenu );\n\t\t}, this.delay );\n\t},\n\n\t_open: function( submenu ) {\n\t\tvar position = $.extend( {\n\t\t\tof: this.active\n\t\t}, this.options.position );\n\n\t\tclearTimeout( this.timer );\n\t\tthis.element.find( \".ui-menu\" ).not( submenu.parents( \".ui-menu\" ) )\n\t\t\t.hide()\n\t\t\t.attr( \"aria-hidden\", \"true\" );\n\n\t\tsubmenu\n\t\t\t.show()\n\t\t\t.removeAttr( \"aria-hidden\" )\n\t\t\t.attr( \"aria-expanded\", \"true\" )\n\t\t\t.position( position );\n\t},\n\n\tcollapseAll: function( event, all ) {\n\t\tclearTimeout( this.timer );\n\t\tthis.timer = this._delay( function() {\n\n\t\t\t// If we were passed an event, look for the submenu that contains the event\n\t\t\tvar currentMenu = all ? this.element :\n\t\t\t\t$( event && event.target ).closest( this.element.find( \".ui-menu\" ) );\n\n\t\t\t// If we found no valid submenu ancestor, use the main menu to close all\n\t\t\t// sub menus anyway\n\t\t\tif ( !currentMenu.length ) {\n\t\t\t\tcurrentMenu = this.element;\n\t\t\t}\n\n\t\t\tthis._close( currentMenu );\n\n\t\t\tthis.blur( event );\n\n\t\t\t// Work around active item staying active after menu is blurred\n\t\t\tthis._removeClass( currentMenu.find( \".ui-state-active\" ), null, \"ui-state-active\" );\n\n\t\t\tthis.activeMenu = currentMenu;\n\t\t}, this.delay );\n\t},\n\n\t// With no arguments, closes the currently active menu - if nothing is active\n\t// it closes all menus.  If passed an argument, it will search for menus BELOW\n\t_close: function( startMenu ) {\n\t\tif ( !startMenu ) {\n\t\t\tstartMenu = this.active ? this.active.parent() : this.element;\n\t\t}\n\n\t\tstartMenu.find( \".ui-menu\" )\n\t\t\t.hide()\n\t\t\t.attr( \"aria-hidden\", \"true\" )\n\t\t\t.attr( \"aria-expanded\", \"false\" );\n\t},\n\n\t_closeOnDocumentClick: function( event ) {\n\t\treturn !$( event.target ).closest( \".ui-menu\" ).length;\n\t},\n\n\t_isDivider: function( item ) {\n\n\t\t// Match hyphen, em dash, en dash\n\t\treturn !/[^\\-\\u2014\\u2013\\s]/.test( item.text() );\n\t},\n\n\tcollapse: function( event ) {\n\t\tvar newItem = this.active &&\n\t\t\tthis.active.parent().closest( \".ui-menu-item\", this.element );\n\t\tif ( newItem && newItem.length ) {\n\t\t\tthis._close();\n\t\t\tthis.focus( event, newItem );\n\t\t}\n\t},\n\n\texpand: function( event ) {\n\t\tvar newItem = this.active &&\n\t\t\tthis.active\n\t\t\t\t.children( \".ui-menu \" )\n\t\t\t\t\t.find( this.options.items )\n\t\t\t\t\t\t.first();\n\n\t\tif ( newItem && newItem.length ) {\n\t\t\tthis._open( newItem.parent() );\n\n\t\t\t// Delay so Firefox will not hide activedescendant change in expanding submenu from AT\n\t\t\tthis._delay( function() {\n\t\t\t\tthis.focus( event, newItem );\n\t\t\t} );\n\t\t}\n\t},\n\n\tnext: function( event ) {\n\t\tthis._move( \"next\", \"first\", event );\n\t},\n\n\tprevious: function( event ) {\n\t\tthis._move( \"prev\", \"last\", event );\n\t},\n\n\tisFirstItem: function() {\n\t\treturn this.active && !this.active.prevAll( \".ui-menu-item\" ).length;\n\t},\n\n\tisLastItem: function() {\n\t\treturn this.active && !this.active.nextAll( \".ui-menu-item\" ).length;\n\t},\n\n\t_move: function( direction, filter, event ) {\n\t\tvar next;\n\t\tif ( this.active ) {\n\t\t\tif ( direction === \"first\" || direction === \"last\" ) {\n\t\t\t\tnext = this.active\n\t\t\t\t\t[ direction === \"first\" ? \"prevAll\" : \"nextAll\" ]( \".ui-menu-item\" )\n\t\t\t\t\t.eq( -1 );\n\t\t\t} else {\n\t\t\t\tnext = this.active\n\t\t\t\t\t[ direction + \"All\" ]( \".ui-menu-item\" )\n\t\t\t\t\t.eq( 0 );\n\t\t\t}\n\t\t}\n\t\tif ( !next || !next.length || !this.active ) {\n\t\t\tnext = this.activeMenu.find( this.options.items )[ filter ]();\n\t\t}\n\n\t\tthis.focus( event, next );\n\t},\n\n\tnextPage: function( event ) {\n\t\tvar item, base, height;\n\n\t\tif ( !this.active ) {\n\t\t\tthis.next( event );\n\t\t\treturn;\n\t\t}\n\t\tif ( this.isLastItem() ) {\n\t\t\treturn;\n\t\t}\n\t\tif ( this._hasScroll() ) {\n\t\t\tbase = this.active.offset().top;\n\t\t\theight = this.element.height();\n\t\t\tthis.active.nextAll( \".ui-menu-item\" ).each( function() {\n\t\t\t\titem = $( this );\n\t\t\t\treturn item.offset().top - base - height < 0;\n\t\t\t} );\n\n\t\t\tthis.focus( event, item );\n\t\t} else {\n\t\t\tthis.focus( event, this.activeMenu.find( this.options.items )\n\t\t\t\t[ !this.active ? \"first\" : \"last\" ]() );\n\t\t}\n\t},\n\n\tpreviousPage: function( event ) {\n\t\tvar item, base, height;\n\t\tif ( !this.active ) {\n\t\t\tthis.next( event );\n\t\t\treturn;\n\t\t}\n\t\tif ( this.isFirstItem() ) {\n\t\t\treturn;\n\t\t}\n\t\tif ( this._hasScroll() ) {\n\t\t\tbase = this.active.offset().top;\n\t\t\theight = this.element.height();\n\t\t\tthis.active.prevAll( \".ui-menu-item\" ).each( function() {\n\t\t\t\titem = $( this );\n\t\t\t\treturn item.offset().top - base + height > 0;\n\t\t\t} );\n\n\t\t\tthis.focus( event, item );\n\t\t} else {\n\t\t\tthis.focus( event, this.activeMenu.find( this.options.items ).first() );\n\t\t}\n\t},\n\n\t_hasScroll: function() {\n\t\treturn this.element.outerHeight() < this.element.prop( \"scrollHeight\" );\n\t},\n\n\tselect: function( event ) {\n\n\t\t// TODO: It should never be possible to not have an active item at this\n\t\t// point, but the tests don't trigger mouseenter before click.\n\t\tthis.active = this.active || $( event.target ).closest( \".ui-menu-item\" );\n\t\tvar ui = { item: this.active };\n\t\tif ( !this.active.has( \".ui-menu\" ).length ) {\n\t\t\tthis.collapseAll( event, true );\n\t\t}\n\t\tthis._trigger( \"select\", event, ui );\n\t},\n\n\t_filterMenuItems: function( character ) {\n\t\tvar escapedCharacter = character.replace( /[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g, \"\\\\$&\" ),\n\t\t\tregex = new RegExp( \"^\" + escapedCharacter, \"i\" );\n\n\t\treturn this.activeMenu\n\t\t\t.find( this.options.items )\n\n\t\t\t\t// Only match on items, not dividers or other content (#10571)\n\t\t\t\t.filter( \".ui-menu-item\" )\n\t\t\t\t\t.filter( function() {\n\t\t\t\t\t\treturn regex.test(\n\t\t\t\t\t\t\t$.trim( $( this ).children( \".ui-menu-item-wrapper\" ).text() ) );\n\t\t\t\t\t} );\n\t}\n} );\n\n} ) );\n"]}