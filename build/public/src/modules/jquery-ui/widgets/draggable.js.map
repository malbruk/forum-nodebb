{"version":3,"sources":["node_modules/jquery-ui/ui/widgets/draggable.js"],"names":["factory","define","amd","jQuery","$","widget","ui","mouse","version","widgetEventPrefix","options","addClasses","appendTo","axis","connectToSortable","containment","cursor","cursorAt","grid","handle","helper","iframeFix","opacity","refreshPositions","revert","revertDuration","scope","scroll","scrollSensitivity","scrollSpeed","snap","snapMode","snapTolerance","stack","zIndex","drag","start","stop","_create","this","_setPositionRelative","_addClass","_setHandleClassName","_mouseInit","_setOption","key","value","_super","_removeHandleClassName","_destroy","element","is","destroyOnClear","_mouseDestroy","_mouseCapture","event","o","disabled","target","closest","length","_getHandle","_blurActiveElement","_blockFrames","selector","iframeBlocks","document","find","map","iframe","css","parent","outerWidth","outerHeight","offset","_unblockFrames","remove","activeElement","safeActiveElement","safeBlur","_mouseStart","_createHelper","_cacheHelperProportions","ddmanager","current","_cacheMargins","cssPosition","scrollParent","offsetParent","hasFixedAncestor","parents","filter","positionAbs","_refreshOffsets","originalPosition","position","_generatePosition","originalPageX","pageX","originalPageY","pageY","_adjustOffsetFromHelper","_setContainment","_trigger","_clear","dropBehaviour","prepareOffsets","_mouseDrag","dragStart","top","margins","left","_getParentOffset","relative","_getRelativeOffset","click","noPropagation","_convertPositionTo","_uiHash","_mouseUp","Event","style","_mouseStop","that","dropped","drop","isFunction","call","animate","parseInt","dragStop","handleElement","trigger","prototype","cancel","_removeClass","helperIsFunction","apply","clone","removeAttr","parentNode","test","obj","split","isArray","helperProportions","width","right","height","bottom","_isRootNode","tagName","po","contains","scrollLeft","scrollTop","p","scrollIsRootNode","isUserScrollable","c","ce","relativeContainer","window","body","scrollHeight","constructor","Array","Math","max","scrollWidth","offsetWidth","offsetHeight","d","pos","mod","constrainPosition","co","round","cancelHelperRemoval","destroy","type","plugin","Widget","plugins","add","draggable","uiSortable","extend","item","sortables","each","sortable","push","isOver","_storedCSS","placeholder","_helper","innermostIntersecting","_intersectsWith","containerCache","_parent","currentItem","data","fromOutside","_revert","instance","t","_cursor","_opacity","i","scrollParentNotHidden","overflowOffset","scrolled","snapElements","String","items","$t","$o","inst","ts","bs","ls","rs","l","r","b","first","x1","x2","y1","y2","ownerDocument","snapping","release","snapItem","abs","min","group","makeArray","sort","a","_zIndex"],"mappings":"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","file":"node_modules/jquery-ui/ui/widgets/draggable.js","sourcesContent":["/*!\n * jQuery UI Draggable 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: Draggable\n//>>group: Interactions\n//>>description: Enables dragging functionality for any element.\n//>>docs: http://api.jqueryui.com/draggable/\n//>>demos: http://jqueryui.com/draggable/\n//>>css.structure: ../../themes/base/draggable.css\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [\n\t\t\t\"jquery\",\n\t\t\t\"./mouse\",\n\t\t\t\"../data\",\n\t\t\t\"../plugin\",\n\t\t\t\"../safe-active-element\",\n\t\t\t\"../safe-blur\",\n\t\t\t\"../scroll-parent\",\n\t\t\t\"../version\",\n\t\t\t\"../widget\"\n\t\t], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n}( function( $ ) {\n\n$.widget( \"ui.draggable\", $.ui.mouse, {\n\tversion: \"1.12.1\",\n\twidgetEventPrefix: \"drag\",\n\toptions: {\n\t\taddClasses: true,\n\t\tappendTo: \"parent\",\n\t\taxis: false,\n\t\tconnectToSortable: false,\n\t\tcontainment: false,\n\t\tcursor: \"auto\",\n\t\tcursorAt: false,\n\t\tgrid: false,\n\t\thandle: false,\n\t\thelper: \"original\",\n\t\tiframeFix: false,\n\t\topacity: false,\n\t\trefreshPositions: false,\n\t\trevert: false,\n\t\trevertDuration: 500,\n\t\tscope: \"default\",\n\t\tscroll: true,\n\t\tscrollSensitivity: 20,\n\t\tscrollSpeed: 20,\n\t\tsnap: false,\n\t\tsnapMode: \"both\",\n\t\tsnapTolerance: 20,\n\t\tstack: false,\n\t\tzIndex: false,\n\n\t\t// Callbacks\n\t\tdrag: null,\n\t\tstart: null,\n\t\tstop: null\n\t},\n\t_create: function() {\n\n\t\tif ( this.options.helper === \"original\" ) {\n\t\t\tthis._setPositionRelative();\n\t\t}\n\t\tif ( this.options.addClasses ) {\n\t\t\tthis._addClass( \"ui-draggable\" );\n\t\t}\n\t\tthis._setHandleClassName();\n\n\t\tthis._mouseInit();\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tthis._super( key, value );\n\t\tif ( key === \"handle\" ) {\n\t\t\tthis._removeHandleClassName();\n\t\t\tthis._setHandleClassName();\n\t\t}\n\t},\n\n\t_destroy: function() {\n\t\tif ( ( this.helper || this.element ).is( \".ui-draggable-dragging\" ) ) {\n\t\t\tthis.destroyOnClear = true;\n\t\t\treturn;\n\t\t}\n\t\tthis._removeHandleClassName();\n\t\tthis._mouseDestroy();\n\t},\n\n\t_mouseCapture: function( event ) {\n\t\tvar o = this.options;\n\n\t\t// Among others, prevent a drag on a resizable-handle\n\t\tif ( this.helper || o.disabled ||\n\t\t\t\t$( event.target ).closest( \".ui-resizable-handle\" ).length > 0 ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t//Quit if we're not on a valid handle\n\t\tthis.handle = this._getHandle( event );\n\t\tif ( !this.handle ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis._blurActiveElement( event );\n\n\t\tthis._blockFrames( o.iframeFix === true ? \"iframe\" : o.iframeFix );\n\n\t\treturn true;\n\n\t},\n\n\t_blockFrames: function( selector ) {\n\t\tthis.iframeBlocks = this.document.find( selector ).map( function() {\n\t\t\tvar iframe = $( this );\n\n\t\t\treturn $( \"<div>\" )\n\t\t\t\t.css( \"position\", \"absolute\" )\n\t\t\t\t.appendTo( iframe.parent() )\n\t\t\t\t.outerWidth( iframe.outerWidth() )\n\t\t\t\t.outerHeight( iframe.outerHeight() )\n\t\t\t\t.offset( iframe.offset() )[ 0 ];\n\t\t} );\n\t},\n\n\t_unblockFrames: function() {\n\t\tif ( this.iframeBlocks ) {\n\t\t\tthis.iframeBlocks.remove();\n\t\t\tdelete this.iframeBlocks;\n\t\t}\n\t},\n\n\t_blurActiveElement: function( event ) {\n\t\tvar activeElement = $.ui.safeActiveElement( this.document[ 0 ] ),\n\t\t\ttarget = $( event.target );\n\n\t\t// Don't blur if the event occurred on an element that is within\n\t\t// the currently focused element\n\t\t// See #10527, #12472\n\t\tif ( target.closest( activeElement ).length ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Blur any element that currently has focus, see #4261\n\t\t$.ui.safeBlur( activeElement );\n\t},\n\n\t_mouseStart: function( event ) {\n\n\t\tvar o = this.options;\n\n\t\t//Create and append the visible helper\n\t\tthis.helper = this._createHelper( event );\n\n\t\tthis._addClass( this.helper, \"ui-draggable-dragging\" );\n\n\t\t//Cache the helper size\n\t\tthis._cacheHelperProportions();\n\n\t\t//If ddmanager is used for droppables, set the global draggable\n\t\tif ( $.ui.ddmanager ) {\n\t\t\t$.ui.ddmanager.current = this;\n\t\t}\n\n\t\t/*\n\t\t * - Position generation -\n\t\t * This block generates everything position related - it's the core of draggables.\n\t\t */\n\n\t\t//Cache the margins of the original element\n\t\tthis._cacheMargins();\n\n\t\t//Store the helper's css position\n\t\tthis.cssPosition = this.helper.css( \"position\" );\n\t\tthis.scrollParent = this.helper.scrollParent( true );\n\t\tthis.offsetParent = this.helper.offsetParent();\n\t\tthis.hasFixedAncestor = this.helper.parents().filter( function() {\n\t\t\t\treturn $( this ).css( \"position\" ) === \"fixed\";\n\t\t\t} ).length > 0;\n\n\t\t//The element's absolute position on the page minus margins\n\t\tthis.positionAbs = this.element.offset();\n\t\tthis._refreshOffsets( event );\n\n\t\t//Generate the original position\n\t\tthis.originalPosition = this.position = this._generatePosition( event, false );\n\t\tthis.originalPageX = event.pageX;\n\t\tthis.originalPageY = event.pageY;\n\n\t\t//Adjust the mouse offset relative to the helper if \"cursorAt\" is supplied\n\t\t( o.cursorAt && this._adjustOffsetFromHelper( o.cursorAt ) );\n\n\t\t//Set a containment if given in the options\n\t\tthis._setContainment();\n\n\t\t//Trigger event + callbacks\n\t\tif ( this._trigger( \"start\", event ) === false ) {\n\t\t\tthis._clear();\n\t\t\treturn false;\n\t\t}\n\n\t\t//Recache the helper size\n\t\tthis._cacheHelperProportions();\n\n\t\t//Prepare the droppable offsets\n\t\tif ( $.ui.ddmanager && !o.dropBehaviour ) {\n\t\t\t$.ui.ddmanager.prepareOffsets( this, event );\n\t\t}\n\n\t\t// Execute the drag once - this causes the helper not to be visible before getting its\n\t\t// correct position\n\t\tthis._mouseDrag( event, true );\n\n\t\t// If the ddmanager is used for droppables, inform the manager that dragging has started\n\t\t// (see #5003)\n\t\tif ( $.ui.ddmanager ) {\n\t\t\t$.ui.ddmanager.dragStart( this, event );\n\t\t}\n\n\t\treturn true;\n\t},\n\n\t_refreshOffsets: function( event ) {\n\t\tthis.offset = {\n\t\t\ttop: this.positionAbs.top - this.margins.top,\n\t\t\tleft: this.positionAbs.left - this.margins.left,\n\t\t\tscroll: false,\n\t\t\tparent: this._getParentOffset(),\n\t\t\trelative: this._getRelativeOffset()\n\t\t};\n\n\t\tthis.offset.click = {\n\t\t\tleft: event.pageX - this.offset.left,\n\t\t\ttop: event.pageY - this.offset.top\n\t\t};\n\t},\n\n\t_mouseDrag: function( event, noPropagation ) {\n\n\t\t// reset any necessary cached properties (see #5009)\n\t\tif ( this.hasFixedAncestor ) {\n\t\t\tthis.offset.parent = this._getParentOffset();\n\t\t}\n\n\t\t//Compute the helpers position\n\t\tthis.position = this._generatePosition( event, true );\n\t\tthis.positionAbs = this._convertPositionTo( \"absolute\" );\n\n\t\t//Call plugins and callbacks and use the resulting position if something is returned\n\t\tif ( !noPropagation ) {\n\t\t\tvar ui = this._uiHash();\n\t\t\tif ( this._trigger( \"drag\", event, ui ) === false ) {\n\t\t\t\tthis._mouseUp( new $.Event( \"mouseup\", event ) );\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis.position = ui.position;\n\t\t}\n\n\t\tthis.helper[ 0 ].style.left = this.position.left + \"px\";\n\t\tthis.helper[ 0 ].style.top = this.position.top + \"px\";\n\n\t\tif ( $.ui.ddmanager ) {\n\t\t\t$.ui.ddmanager.drag( this, event );\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t_mouseStop: function( event ) {\n\n\t\t//If we are using droppables, inform the manager about the drop\n\t\tvar that = this,\n\t\t\tdropped = false;\n\t\tif ( $.ui.ddmanager && !this.options.dropBehaviour ) {\n\t\t\tdropped = $.ui.ddmanager.drop( this, event );\n\t\t}\n\n\t\t//if a drop comes from outside (a sortable)\n\t\tif ( this.dropped ) {\n\t\t\tdropped = this.dropped;\n\t\t\tthis.dropped = false;\n\t\t}\n\n\t\tif ( ( this.options.revert === \"invalid\" && !dropped ) ||\n\t\t\t\t( this.options.revert === \"valid\" && dropped ) ||\n\t\t\t\tthis.options.revert === true || ( $.isFunction( this.options.revert ) &&\n\t\t\t\tthis.options.revert.call( this.element, dropped ) )\n\t\t) {\n\t\t\t$( this.helper ).animate(\n\t\t\t\tthis.originalPosition,\n\t\t\t\tparseInt( this.options.revertDuration, 10 ),\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( that._trigger( \"stop\", event ) !== false ) {\n\t\t\t\t\t\tthat._clear();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t} else {\n\t\t\tif ( this._trigger( \"stop\", event ) !== false ) {\n\t\t\t\tthis._clear();\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t_mouseUp: function( event ) {\n\t\tthis._unblockFrames();\n\n\t\t// If the ddmanager is used for droppables, inform the manager that dragging has stopped\n\t\t// (see #5003)\n\t\tif ( $.ui.ddmanager ) {\n\t\t\t$.ui.ddmanager.dragStop( this, event );\n\t\t}\n\n\t\t// Only need to focus if the event occurred on the draggable itself, see #10527\n\t\tif ( this.handleElement.is( event.target ) ) {\n\n\t\t\t// The interaction is over; whether or not the click resulted in a drag,\n\t\t\t// focus the element\n\t\t\tthis.element.trigger( \"focus\" );\n\t\t}\n\n\t\treturn $.ui.mouse.prototype._mouseUp.call( this, event );\n\t},\n\n\tcancel: function() {\n\n\t\tif ( this.helper.is( \".ui-draggable-dragging\" ) ) {\n\t\t\tthis._mouseUp( new $.Event( \"mouseup\", { target: this.element[ 0 ] } ) );\n\t\t} else {\n\t\t\tthis._clear();\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t_getHandle: function( event ) {\n\t\treturn this.options.handle ?\n\t\t\t!!$( event.target ).closest( this.element.find( this.options.handle ) ).length :\n\t\t\ttrue;\n\t},\n\n\t_setHandleClassName: function() {\n\t\tthis.handleElement = this.options.handle ?\n\t\t\tthis.element.find( this.options.handle ) : this.element;\n\t\tthis._addClass( this.handleElement, \"ui-draggable-handle\" );\n\t},\n\n\t_removeHandleClassName: function() {\n\t\tthis._removeClass( this.handleElement, \"ui-draggable-handle\" );\n\t},\n\n\t_createHelper: function( event ) {\n\n\t\tvar o = this.options,\n\t\t\thelperIsFunction = $.isFunction( o.helper ),\n\t\t\thelper = helperIsFunction ?\n\t\t\t\t$( o.helper.apply( this.element[ 0 ], [ event ] ) ) :\n\t\t\t\t( o.helper === \"clone\" ?\n\t\t\t\t\tthis.element.clone().removeAttr( \"id\" ) :\n\t\t\t\t\tthis.element );\n\n\t\tif ( !helper.parents( \"body\" ).length ) {\n\t\t\thelper.appendTo( ( o.appendTo === \"parent\" ?\n\t\t\t\tthis.element[ 0 ].parentNode :\n\t\t\t\to.appendTo ) );\n\t\t}\n\n\t\t// Http://bugs.jqueryui.com/ticket/9446\n\t\t// a helper function can return the original element\n\t\t// which wouldn't have been set to relative in _create\n\t\tif ( helperIsFunction && helper[ 0 ] === this.element[ 0 ] ) {\n\t\t\tthis._setPositionRelative();\n\t\t}\n\n\t\tif ( helper[ 0 ] !== this.element[ 0 ] &&\n\t\t\t\t!( /(fixed|absolute)/ ).test( helper.css( \"position\" ) ) ) {\n\t\t\thelper.css( \"position\", \"absolute\" );\n\t\t}\n\n\t\treturn helper;\n\n\t},\n\n\t_setPositionRelative: function() {\n\t\tif ( !( /^(?:r|a|f)/ ).test( this.element.css( \"position\" ) ) ) {\n\t\t\tthis.element[ 0 ].style.position = \"relative\";\n\t\t}\n\t},\n\n\t_adjustOffsetFromHelper: function( obj ) {\n\t\tif ( typeof obj === \"string\" ) {\n\t\t\tobj = obj.split( \" \" );\n\t\t}\n\t\tif ( $.isArray( obj ) ) {\n\t\t\tobj = { left: +obj[ 0 ], top: +obj[ 1 ] || 0 };\n\t\t}\n\t\tif ( \"left\" in obj ) {\n\t\t\tthis.offset.click.left = obj.left + this.margins.left;\n\t\t}\n\t\tif ( \"right\" in obj ) {\n\t\t\tthis.offset.click.left = this.helperProportions.width - obj.right + this.margins.left;\n\t\t}\n\t\tif ( \"top\" in obj ) {\n\t\t\tthis.offset.click.top = obj.top + this.margins.top;\n\t\t}\n\t\tif ( \"bottom\" in obj ) {\n\t\t\tthis.offset.click.top = this.helperProportions.height - obj.bottom + this.margins.top;\n\t\t}\n\t},\n\n\t_isRootNode: function( element ) {\n\t\treturn ( /(html|body)/i ).test( element.tagName ) || element === this.document[ 0 ];\n\t},\n\n\t_getParentOffset: function() {\n\n\t\t//Get the offsetParent and cache its position\n\t\tvar po = this.offsetParent.offset(),\n\t\t\tdocument = this.document[ 0 ];\n\n\t\t// This is a special case where we need to modify a offset calculated on start, since the\n\t\t// following happened:\n\t\t// 1. The position of the helper is absolute, so it's position is calculated based on the\n\t\t// next positioned parent\n\t\t// 2. The actual offset parent is a child of the scroll parent, and the scroll parent isn't\n\t\t// the document, which means that the scroll is included in the initial calculation of the\n\t\t// offset of the parent, and never recalculated upon drag\n\t\tif ( this.cssPosition === \"absolute\" && this.scrollParent[ 0 ] !== document &&\n\t\t\t\t$.contains( this.scrollParent[ 0 ], this.offsetParent[ 0 ] ) ) {\n\t\t\tpo.left += this.scrollParent.scrollLeft();\n\t\t\tpo.top += this.scrollParent.scrollTop();\n\t\t}\n\n\t\tif ( this._isRootNode( this.offsetParent[ 0 ] ) ) {\n\t\t\tpo = { top: 0, left: 0 };\n\t\t}\n\n\t\treturn {\n\t\t\ttop: po.top + ( parseInt( this.offsetParent.css( \"borderTopWidth\" ), 10 ) || 0 ),\n\t\t\tleft: po.left + ( parseInt( this.offsetParent.css( \"borderLeftWidth\" ), 10 ) || 0 )\n\t\t};\n\n\t},\n\n\t_getRelativeOffset: function() {\n\t\tif ( this.cssPosition !== \"relative\" ) {\n\t\t\treturn { top: 0, left: 0 };\n\t\t}\n\n\t\tvar p = this.element.position(),\n\t\t\tscrollIsRootNode = this._isRootNode( this.scrollParent[ 0 ] );\n\n\t\treturn {\n\t\t\ttop: p.top - ( parseInt( this.helper.css( \"top\" ), 10 ) || 0 ) +\n\t\t\t\t( !scrollIsRootNode ? this.scrollParent.scrollTop() : 0 ),\n\t\t\tleft: p.left - ( parseInt( this.helper.css( \"left\" ), 10 ) || 0 ) +\n\t\t\t\t( !scrollIsRootNode ? this.scrollParent.scrollLeft() : 0 )\n\t\t};\n\n\t},\n\n\t_cacheMargins: function() {\n\t\tthis.margins = {\n\t\t\tleft: ( parseInt( this.element.css( \"marginLeft\" ), 10 ) || 0 ),\n\t\t\ttop: ( parseInt( this.element.css( \"marginTop\" ), 10 ) || 0 ),\n\t\t\tright: ( parseInt( this.element.css( \"marginRight\" ), 10 ) || 0 ),\n\t\t\tbottom: ( parseInt( this.element.css( \"marginBottom\" ), 10 ) || 0 )\n\t\t};\n\t},\n\n\t_cacheHelperProportions: function() {\n\t\tthis.helperProportions = {\n\t\t\twidth: this.helper.outerWidth(),\n\t\t\theight: this.helper.outerHeight()\n\t\t};\n\t},\n\n\t_setContainment: function() {\n\n\t\tvar isUserScrollable, c, ce,\n\t\t\to = this.options,\n\t\t\tdocument = this.document[ 0 ];\n\n\t\tthis.relativeContainer = null;\n\n\t\tif ( !o.containment ) {\n\t\t\tthis.containment = null;\n\t\t\treturn;\n\t\t}\n\n\t\tif ( o.containment === \"window\" ) {\n\t\t\tthis.containment = [\n\t\t\t\t$( window ).scrollLeft() - this.offset.relative.left - this.offset.parent.left,\n\t\t\t\t$( window ).scrollTop() - this.offset.relative.top - this.offset.parent.top,\n\t\t\t\t$( window ).scrollLeft() + $( window ).width() -\n\t\t\t\t\tthis.helperProportions.width - this.margins.left,\n\t\t\t\t$( window ).scrollTop() +\n\t\t\t\t\t( $( window ).height() || document.body.parentNode.scrollHeight ) -\n\t\t\t\t\tthis.helperProportions.height - this.margins.top\n\t\t\t];\n\t\t\treturn;\n\t\t}\n\n\t\tif ( o.containment === \"document\" ) {\n\t\t\tthis.containment = [\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\t$( document ).width() - this.helperProportions.width - this.margins.left,\n\t\t\t\t( $( document ).height() || document.body.parentNode.scrollHeight ) -\n\t\t\t\t\tthis.helperProportions.height - this.margins.top\n\t\t\t];\n\t\t\treturn;\n\t\t}\n\n\t\tif ( o.containment.constructor === Array ) {\n\t\t\tthis.containment = o.containment;\n\t\t\treturn;\n\t\t}\n\n\t\tif ( o.containment === \"parent\" ) {\n\t\t\to.containment = this.helper[ 0 ].parentNode;\n\t\t}\n\n\t\tc = $( o.containment );\n\t\tce = c[ 0 ];\n\n\t\tif ( !ce ) {\n\t\t\treturn;\n\t\t}\n\n\t\tisUserScrollable = /(scroll|auto)/.test( c.css( \"overflow\" ) );\n\n\t\tthis.containment = [\n\t\t\t( parseInt( c.css( \"borderLeftWidth\" ), 10 ) || 0 ) +\n\t\t\t\t( parseInt( c.css( \"paddingLeft\" ), 10 ) || 0 ),\n\t\t\t( parseInt( c.css( \"borderTopWidth\" ), 10 ) || 0 ) +\n\t\t\t\t( parseInt( c.css( \"paddingTop\" ), 10 ) || 0 ),\n\t\t\t( isUserScrollable ? Math.max( ce.scrollWidth, ce.offsetWidth ) : ce.offsetWidth ) -\n\t\t\t\t( parseInt( c.css( \"borderRightWidth\" ), 10 ) || 0 ) -\n\t\t\t\t( parseInt( c.css( \"paddingRight\" ), 10 ) || 0 ) -\n\t\t\t\tthis.helperProportions.width -\n\t\t\t\tthis.margins.left -\n\t\t\t\tthis.margins.right,\n\t\t\t( isUserScrollable ? Math.max( ce.scrollHeight, ce.offsetHeight ) : ce.offsetHeight ) -\n\t\t\t\t( parseInt( c.css( \"borderBottomWidth\" ), 10 ) || 0 ) -\n\t\t\t\t( parseInt( c.css( \"paddingBottom\" ), 10 ) || 0 ) -\n\t\t\t\tthis.helperProportions.height -\n\t\t\t\tthis.margins.top -\n\t\t\t\tthis.margins.bottom\n\t\t];\n\t\tthis.relativeContainer = c;\n\t},\n\n\t_convertPositionTo: function( d, pos ) {\n\n\t\tif ( !pos ) {\n\t\t\tpos = this.position;\n\t\t}\n\n\t\tvar mod = d === \"absolute\" ? 1 : -1,\n\t\t\tscrollIsRootNode = this._isRootNode( this.scrollParent[ 0 ] );\n\n\t\treturn {\n\t\t\ttop: (\n\n\t\t\t\t// The absolute mouse position\n\t\t\t\tpos.top\t+\n\n\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\tthis.offset.relative.top * mod +\n\n\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\tthis.offset.parent.top * mod -\n\t\t\t\t( ( this.cssPosition === \"fixed\" ?\n\t\t\t\t\t-this.offset.scroll.top :\n\t\t\t\t\t( scrollIsRootNode ? 0 : this.offset.scroll.top ) ) * mod )\n\t\t\t),\n\t\t\tleft: (\n\n\t\t\t\t// The absolute mouse position\n\t\t\t\tpos.left +\n\n\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\tthis.offset.relative.left * mod +\n\n\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\tthis.offset.parent.left * mod\t-\n\t\t\t\t( ( this.cssPosition === \"fixed\" ?\n\t\t\t\t\t-this.offset.scroll.left :\n\t\t\t\t\t( scrollIsRootNode ? 0 : this.offset.scroll.left ) ) * mod )\n\t\t\t)\n\t\t};\n\n\t},\n\n\t_generatePosition: function( event, constrainPosition ) {\n\n\t\tvar containment, co, top, left,\n\t\t\to = this.options,\n\t\t\tscrollIsRootNode = this._isRootNode( this.scrollParent[ 0 ] ),\n\t\t\tpageX = event.pageX,\n\t\t\tpageY = event.pageY;\n\n\t\t// Cache the scroll\n\t\tif ( !scrollIsRootNode || !this.offset.scroll ) {\n\t\t\tthis.offset.scroll = {\n\t\t\t\ttop: this.scrollParent.scrollTop(),\n\t\t\t\tleft: this.scrollParent.scrollLeft()\n\t\t\t};\n\t\t}\n\n\t\t/*\n\t\t * - Position constraining -\n\t\t * Constrain the position to a mix of grid, containment.\n\t\t */\n\n\t\t// If we are not dragging yet, we won't check for options\n\t\tif ( constrainPosition ) {\n\t\t\tif ( this.containment ) {\n\t\t\t\tif ( this.relativeContainer ) {\n\t\t\t\t\tco = this.relativeContainer.offset();\n\t\t\t\t\tcontainment = [\n\t\t\t\t\t\tthis.containment[ 0 ] + co.left,\n\t\t\t\t\t\tthis.containment[ 1 ] + co.top,\n\t\t\t\t\t\tthis.containment[ 2 ] + co.left,\n\t\t\t\t\t\tthis.containment[ 3 ] + co.top\n\t\t\t\t\t];\n\t\t\t\t} else {\n\t\t\t\t\tcontainment = this.containment;\n\t\t\t\t}\n\n\t\t\t\tif ( event.pageX - this.offset.click.left < containment[ 0 ] ) {\n\t\t\t\t\tpageX = containment[ 0 ] + this.offset.click.left;\n\t\t\t\t}\n\t\t\t\tif ( event.pageY - this.offset.click.top < containment[ 1 ] ) {\n\t\t\t\t\tpageY = containment[ 1 ] + this.offset.click.top;\n\t\t\t\t}\n\t\t\t\tif ( event.pageX - this.offset.click.left > containment[ 2 ] ) {\n\t\t\t\t\tpageX = containment[ 2 ] + this.offset.click.left;\n\t\t\t\t}\n\t\t\t\tif ( event.pageY - this.offset.click.top > containment[ 3 ] ) {\n\t\t\t\t\tpageY = containment[ 3 ] + this.offset.click.top;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( o.grid ) {\n\n\t\t\t\t//Check for grid elements set to 0 to prevent divide by 0 error causing invalid\n\t\t\t\t// argument errors in IE (see ticket #6950)\n\t\t\t\ttop = o.grid[ 1 ] ? this.originalPageY + Math.round( ( pageY -\n\t\t\t\t\tthis.originalPageY ) / o.grid[ 1 ] ) * o.grid[ 1 ] : this.originalPageY;\n\t\t\t\tpageY = containment ? ( ( top - this.offset.click.top >= containment[ 1 ] ||\n\t\t\t\t\ttop - this.offset.click.top > containment[ 3 ] ) ?\n\t\t\t\t\t\ttop :\n\t\t\t\t\t\t( ( top - this.offset.click.top >= containment[ 1 ] ) ?\n\t\t\t\t\t\t\ttop - o.grid[ 1 ] : top + o.grid[ 1 ] ) ) : top;\n\n\t\t\t\tleft = o.grid[ 0 ] ? this.originalPageX +\n\t\t\t\t\tMath.round( ( pageX - this.originalPageX ) / o.grid[ 0 ] ) * o.grid[ 0 ] :\n\t\t\t\t\tthis.originalPageX;\n\t\t\t\tpageX = containment ? ( ( left - this.offset.click.left >= containment[ 0 ] ||\n\t\t\t\t\tleft - this.offset.click.left > containment[ 2 ] ) ?\n\t\t\t\t\t\tleft :\n\t\t\t\t\t\t( ( left - this.offset.click.left >= containment[ 0 ] ) ?\n\t\t\t\t\t\t\tleft - o.grid[ 0 ] : left + o.grid[ 0 ] ) ) : left;\n\t\t\t}\n\n\t\t\tif ( o.axis === \"y\" ) {\n\t\t\t\tpageX = this.originalPageX;\n\t\t\t}\n\n\t\t\tif ( o.axis === \"x\" ) {\n\t\t\t\tpageY = this.originalPageY;\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\ttop: (\n\n\t\t\t\t// The absolute mouse position\n\t\t\t\tpageY -\n\n\t\t\t\t// Click offset (relative to the element)\n\t\t\t\tthis.offset.click.top -\n\n\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\tthis.offset.relative.top -\n\n\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\tthis.offset.parent.top +\n\t\t\t\t( this.cssPosition === \"fixed\" ?\n\t\t\t\t\t-this.offset.scroll.top :\n\t\t\t\t\t( scrollIsRootNode ? 0 : this.offset.scroll.top ) )\n\t\t\t),\n\t\t\tleft: (\n\n\t\t\t\t// The absolute mouse position\n\t\t\t\tpageX -\n\n\t\t\t\t// Click offset (relative to the element)\n\t\t\t\tthis.offset.click.left -\n\n\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\tthis.offset.relative.left -\n\n\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\tthis.offset.parent.left +\n\t\t\t\t( this.cssPosition === \"fixed\" ?\n\t\t\t\t\t-this.offset.scroll.left :\n\t\t\t\t\t( scrollIsRootNode ? 0 : this.offset.scroll.left ) )\n\t\t\t)\n\t\t};\n\n\t},\n\n\t_clear: function() {\n\t\tthis._removeClass( this.helper, \"ui-draggable-dragging\" );\n\t\tif ( this.helper[ 0 ] !== this.element[ 0 ] && !this.cancelHelperRemoval ) {\n\t\t\tthis.helper.remove();\n\t\t}\n\t\tthis.helper = null;\n\t\tthis.cancelHelperRemoval = false;\n\t\tif ( this.destroyOnClear ) {\n\t\t\tthis.destroy();\n\t\t}\n\t},\n\n\t// From now on bulk stuff - mainly helpers\n\n\t_trigger: function( type, event, ui ) {\n\t\tui = ui || this._uiHash();\n\t\t$.ui.plugin.call( this, type, [ event, ui, this ], true );\n\n\t\t// Absolute position and offset (see #6884 ) have to be recalculated after plugins\n\t\tif ( /^(drag|start|stop)/.test( type ) ) {\n\t\t\tthis.positionAbs = this._convertPositionTo( \"absolute\" );\n\t\t\tui.offset = this.positionAbs;\n\t\t}\n\t\treturn $.Widget.prototype._trigger.call( this, type, event, ui );\n\t},\n\n\tplugins: {},\n\n\t_uiHash: function() {\n\t\treturn {\n\t\t\thelper: this.helper,\n\t\t\tposition: this.position,\n\t\t\toriginalPosition: this.originalPosition,\n\t\t\toffset: this.positionAbs\n\t\t};\n\t}\n\n} );\n\n$.ui.plugin.add( \"draggable\", \"connectToSortable\", {\n\tstart: function( event, ui, draggable ) {\n\t\tvar uiSortable = $.extend( {}, ui, {\n\t\t\titem: draggable.element\n\t\t} );\n\n\t\tdraggable.sortables = [];\n\t\t$( draggable.options.connectToSortable ).each( function() {\n\t\t\tvar sortable = $( this ).sortable( \"instance\" );\n\n\t\t\tif ( sortable && !sortable.options.disabled ) {\n\t\t\t\tdraggable.sortables.push( sortable );\n\n\t\t\t\t// RefreshPositions is called at drag start to refresh the containerCache\n\t\t\t\t// which is used in drag. This ensures it's initialized and synchronized\n\t\t\t\t// with any changes that might have happened on the page since initialization.\n\t\t\t\tsortable.refreshPositions();\n\t\t\t\tsortable._trigger( \"activate\", event, uiSortable );\n\t\t\t}\n\t\t} );\n\t},\n\tstop: function( event, ui, draggable ) {\n\t\tvar uiSortable = $.extend( {}, ui, {\n\t\t\titem: draggable.element\n\t\t} );\n\n\t\tdraggable.cancelHelperRemoval = false;\n\n\t\t$.each( draggable.sortables, function() {\n\t\t\tvar sortable = this;\n\n\t\t\tif ( sortable.isOver ) {\n\t\t\t\tsortable.isOver = 0;\n\n\t\t\t\t// Allow this sortable to handle removing the helper\n\t\t\t\tdraggable.cancelHelperRemoval = true;\n\t\t\t\tsortable.cancelHelperRemoval = false;\n\n\t\t\t\t// Use _storedCSS To restore properties in the sortable,\n\t\t\t\t// as this also handles revert (#9675) since the draggable\n\t\t\t\t// may have modified them in unexpected ways (#8809)\n\t\t\t\tsortable._storedCSS = {\n\t\t\t\t\tposition: sortable.placeholder.css( \"position\" ),\n\t\t\t\t\ttop: sortable.placeholder.css( \"top\" ),\n\t\t\t\t\tleft: sortable.placeholder.css( \"left\" )\n\t\t\t\t};\n\n\t\t\t\tsortable._mouseStop( event );\n\n\t\t\t\t// Once drag has ended, the sortable should return to using\n\t\t\t\t// its original helper, not the shared helper from draggable\n\t\t\t\tsortable.options.helper = sortable.options._helper;\n\t\t\t} else {\n\n\t\t\t\t// Prevent this Sortable from removing the helper.\n\t\t\t\t// However, don't set the draggable to remove the helper\n\t\t\t\t// either as another connected Sortable may yet handle the removal.\n\t\t\t\tsortable.cancelHelperRemoval = true;\n\n\t\t\t\tsortable._trigger( \"deactivate\", event, uiSortable );\n\t\t\t}\n\t\t} );\n\t},\n\tdrag: function( event, ui, draggable ) {\n\t\t$.each( draggable.sortables, function() {\n\t\t\tvar innermostIntersecting = false,\n\t\t\t\tsortable = this;\n\n\t\t\t// Copy over variables that sortable's _intersectsWith uses\n\t\t\tsortable.positionAbs = draggable.positionAbs;\n\t\t\tsortable.helperProportions = draggable.helperProportions;\n\t\t\tsortable.offset.click = draggable.offset.click;\n\n\t\t\tif ( sortable._intersectsWith( sortable.containerCache ) ) {\n\t\t\t\tinnermostIntersecting = true;\n\n\t\t\t\t$.each( draggable.sortables, function() {\n\n\t\t\t\t\t// Copy over variables that sortable's _intersectsWith uses\n\t\t\t\t\tthis.positionAbs = draggable.positionAbs;\n\t\t\t\t\tthis.helperProportions = draggable.helperProportions;\n\t\t\t\t\tthis.offset.click = draggable.offset.click;\n\n\t\t\t\t\tif ( this !== sortable &&\n\t\t\t\t\t\t\tthis._intersectsWith( this.containerCache ) &&\n\t\t\t\t\t\t\t$.contains( sortable.element[ 0 ], this.element[ 0 ] ) ) {\n\t\t\t\t\t\tinnermostIntersecting = false;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn innermostIntersecting;\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\tif ( innermostIntersecting ) {\n\n\t\t\t\t// If it intersects, we use a little isOver variable and set it once,\n\t\t\t\t// so that the move-in stuff gets fired only once.\n\t\t\t\tif ( !sortable.isOver ) {\n\t\t\t\t\tsortable.isOver = 1;\n\n\t\t\t\t\t// Store draggable's parent in case we need to reappend to it later.\n\t\t\t\t\tdraggable._parent = ui.helper.parent();\n\n\t\t\t\t\tsortable.currentItem = ui.helper\n\t\t\t\t\t\t.appendTo( sortable.element )\n\t\t\t\t\t\t.data( \"ui-sortable-item\", true );\n\n\t\t\t\t\t// Store helper option to later restore it\n\t\t\t\t\tsortable.options._helper = sortable.options.helper;\n\n\t\t\t\t\tsortable.options.helper = function() {\n\t\t\t\t\t\treturn ui.helper[ 0 ];\n\t\t\t\t\t};\n\n\t\t\t\t\t// Fire the start events of the sortable with our passed browser event,\n\t\t\t\t\t// and our own helper (so it doesn't create a new one)\n\t\t\t\t\tevent.target = sortable.currentItem[ 0 ];\n\t\t\t\t\tsortable._mouseCapture( event, true );\n\t\t\t\t\tsortable._mouseStart( event, true, true );\n\n\t\t\t\t\t// Because the browser event is way off the new appended portlet,\n\t\t\t\t\t// modify necessary variables to reflect the changes\n\t\t\t\t\tsortable.offset.click.top = draggable.offset.click.top;\n\t\t\t\t\tsortable.offset.click.left = draggable.offset.click.left;\n\t\t\t\t\tsortable.offset.parent.left -= draggable.offset.parent.left -\n\t\t\t\t\t\tsortable.offset.parent.left;\n\t\t\t\t\tsortable.offset.parent.top -= draggable.offset.parent.top -\n\t\t\t\t\t\tsortable.offset.parent.top;\n\n\t\t\t\t\tdraggable._trigger( \"toSortable\", event );\n\n\t\t\t\t\t// Inform draggable that the helper is in a valid drop zone,\n\t\t\t\t\t// used solely in the revert option to handle \"valid/invalid\".\n\t\t\t\t\tdraggable.dropped = sortable.element;\n\n\t\t\t\t\t// Need to refreshPositions of all sortables in the case that\n\t\t\t\t\t// adding to one sortable changes the location of the other sortables (#9675)\n\t\t\t\t\t$.each( draggable.sortables, function() {\n\t\t\t\t\t\tthis.refreshPositions();\n\t\t\t\t\t} );\n\n\t\t\t\t\t// Hack so receive/update callbacks work (mostly)\n\t\t\t\t\tdraggable.currentItem = draggable.element;\n\t\t\t\t\tsortable.fromOutside = draggable;\n\t\t\t\t}\n\n\t\t\t\tif ( sortable.currentItem ) {\n\t\t\t\t\tsortable._mouseDrag( event );\n\n\t\t\t\t\t// Copy the sortable's position because the draggable's can potentially reflect\n\t\t\t\t\t// a relative position, while sortable is always absolute, which the dragged\n\t\t\t\t\t// element has now become. (#8809)\n\t\t\t\t\tui.position = sortable.position;\n\t\t\t\t}\n\t\t\t} else {\n\n\t\t\t\t// If it doesn't intersect with the sortable, and it intersected before,\n\t\t\t\t// we fake the drag stop of the sortable, but make sure it doesn't remove\n\t\t\t\t// the helper by using cancelHelperRemoval.\n\t\t\t\tif ( sortable.isOver ) {\n\n\t\t\t\t\tsortable.isOver = 0;\n\t\t\t\t\tsortable.cancelHelperRemoval = true;\n\n\t\t\t\t\t// Calling sortable's mouseStop would trigger a revert,\n\t\t\t\t\t// so revert must be temporarily false until after mouseStop is called.\n\t\t\t\t\tsortable.options._revert = sortable.options.revert;\n\t\t\t\t\tsortable.options.revert = false;\n\n\t\t\t\t\tsortable._trigger( \"out\", event, sortable._uiHash( sortable ) );\n\t\t\t\t\tsortable._mouseStop( event, true );\n\n\t\t\t\t\t// Restore sortable behaviors that were modfied\n\t\t\t\t\t// when the draggable entered the sortable area (#9481)\n\t\t\t\t\tsortable.options.revert = sortable.options._revert;\n\t\t\t\t\tsortable.options.helper = sortable.options._helper;\n\n\t\t\t\t\tif ( sortable.placeholder ) {\n\t\t\t\t\t\tsortable.placeholder.remove();\n\t\t\t\t\t}\n\n\t\t\t\t\t// Restore and recalculate the draggable's offset considering the sortable\n\t\t\t\t\t// may have modified them in unexpected ways. (#8809, #10669)\n\t\t\t\t\tui.helper.appendTo( draggable._parent );\n\t\t\t\t\tdraggable._refreshOffsets( event );\n\t\t\t\t\tui.position = draggable._generatePosition( event, true );\n\n\t\t\t\t\tdraggable._trigger( \"fromSortable\", event );\n\n\t\t\t\t\t// Inform draggable that the helper is no longer in a valid drop zone\n\t\t\t\t\tdraggable.dropped = false;\n\n\t\t\t\t\t// Need to refreshPositions of all sortables just in case removing\n\t\t\t\t\t// from one sortable changes the location of other sortables (#9675)\n\t\t\t\t\t$.each( draggable.sortables, function() {\n\t\t\t\t\t\tthis.refreshPositions();\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t}\n} );\n\n$.ui.plugin.add( \"draggable\", \"cursor\", {\n\tstart: function( event, ui, instance ) {\n\t\tvar t = $( \"body\" ),\n\t\t\to = instance.options;\n\n\t\tif ( t.css( \"cursor\" ) ) {\n\t\t\to._cursor = t.css( \"cursor\" );\n\t\t}\n\t\tt.css( \"cursor\", o.cursor );\n\t},\n\tstop: function( event, ui, instance ) {\n\t\tvar o = instance.options;\n\t\tif ( o._cursor ) {\n\t\t\t$( \"body\" ).css( \"cursor\", o._cursor );\n\t\t}\n\t}\n} );\n\n$.ui.plugin.add( \"draggable\", \"opacity\", {\n\tstart: function( event, ui, instance ) {\n\t\tvar t = $( ui.helper ),\n\t\t\to = instance.options;\n\t\tif ( t.css( \"opacity\" ) ) {\n\t\t\to._opacity = t.css( \"opacity\" );\n\t\t}\n\t\tt.css( \"opacity\", o.opacity );\n\t},\n\tstop: function( event, ui, instance ) {\n\t\tvar o = instance.options;\n\t\tif ( o._opacity ) {\n\t\t\t$( ui.helper ).css( \"opacity\", o._opacity );\n\t\t}\n\t}\n} );\n\n$.ui.plugin.add( \"draggable\", \"scroll\", {\n\tstart: function( event, ui, i ) {\n\t\tif ( !i.scrollParentNotHidden ) {\n\t\t\ti.scrollParentNotHidden = i.helper.scrollParent( false );\n\t\t}\n\n\t\tif ( i.scrollParentNotHidden[ 0 ] !== i.document[ 0 ] &&\n\t\t\t\ti.scrollParentNotHidden[ 0 ].tagName !== \"HTML\" ) {\n\t\t\ti.overflowOffset = i.scrollParentNotHidden.offset();\n\t\t}\n\t},\n\tdrag: function( event, ui, i  ) {\n\n\t\tvar o = i.options,\n\t\t\tscrolled = false,\n\t\t\tscrollParent = i.scrollParentNotHidden[ 0 ],\n\t\t\tdocument = i.document[ 0 ];\n\n\t\tif ( scrollParent !== document && scrollParent.tagName !== \"HTML\" ) {\n\t\t\tif ( !o.axis || o.axis !== \"x\" ) {\n\t\t\t\tif ( ( i.overflowOffset.top + scrollParent.offsetHeight ) - event.pageY <\n\t\t\t\t\t\to.scrollSensitivity ) {\n\t\t\t\t\tscrollParent.scrollTop = scrolled = scrollParent.scrollTop + o.scrollSpeed;\n\t\t\t\t} else if ( event.pageY - i.overflowOffset.top < o.scrollSensitivity ) {\n\t\t\t\t\tscrollParent.scrollTop = scrolled = scrollParent.scrollTop - o.scrollSpeed;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( !o.axis || o.axis !== \"y\" ) {\n\t\t\t\tif ( ( i.overflowOffset.left + scrollParent.offsetWidth ) - event.pageX <\n\t\t\t\t\t\to.scrollSensitivity ) {\n\t\t\t\t\tscrollParent.scrollLeft = scrolled = scrollParent.scrollLeft + o.scrollSpeed;\n\t\t\t\t} else if ( event.pageX - i.overflowOffset.left < o.scrollSensitivity ) {\n\t\t\t\t\tscrollParent.scrollLeft = scrolled = scrollParent.scrollLeft - o.scrollSpeed;\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tif ( !o.axis || o.axis !== \"x\" ) {\n\t\t\t\tif ( event.pageY - $( document ).scrollTop() < o.scrollSensitivity ) {\n\t\t\t\t\tscrolled = $( document ).scrollTop( $( document ).scrollTop() - o.scrollSpeed );\n\t\t\t\t} else if ( $( window ).height() - ( event.pageY - $( document ).scrollTop() ) <\n\t\t\t\t\t\to.scrollSensitivity ) {\n\t\t\t\t\tscrolled = $( document ).scrollTop( $( document ).scrollTop() + o.scrollSpeed );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( !o.axis || o.axis !== \"y\" ) {\n\t\t\t\tif ( event.pageX - $( document ).scrollLeft() < o.scrollSensitivity ) {\n\t\t\t\t\tscrolled = $( document ).scrollLeft(\n\t\t\t\t\t\t$( document ).scrollLeft() - o.scrollSpeed\n\t\t\t\t\t);\n\t\t\t\t} else if ( $( window ).width() - ( event.pageX - $( document ).scrollLeft() ) <\n\t\t\t\t\t\to.scrollSensitivity ) {\n\t\t\t\t\tscrolled = $( document ).scrollLeft(\n\t\t\t\t\t\t$( document ).scrollLeft() + o.scrollSpeed\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\n\t\tif ( scrolled !== false && $.ui.ddmanager && !o.dropBehaviour ) {\n\t\t\t$.ui.ddmanager.prepareOffsets( i, event );\n\t\t}\n\n\t}\n} );\n\n$.ui.plugin.add( \"draggable\", \"snap\", {\n\tstart: function( event, ui, i ) {\n\n\t\tvar o = i.options;\n\n\t\ti.snapElements = [];\n\n\t\t$( o.snap.constructor !== String ? ( o.snap.items || \":data(ui-draggable)\" ) : o.snap )\n\t\t\t.each( function() {\n\t\t\t\tvar $t = $( this ),\n\t\t\t\t\t$o = $t.offset();\n\t\t\t\tif ( this !== i.element[ 0 ] ) {\n\t\t\t\t\ti.snapElements.push( {\n\t\t\t\t\t\titem: this,\n\t\t\t\t\t\twidth: $t.outerWidth(), height: $t.outerHeight(),\n\t\t\t\t\t\ttop: $o.top, left: $o.left\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\n\t},\n\tdrag: function( event, ui, inst ) {\n\n\t\tvar ts, bs, ls, rs, l, r, t, b, i, first,\n\t\t\to = inst.options,\n\t\t\td = o.snapTolerance,\n\t\t\tx1 = ui.offset.left, x2 = x1 + inst.helperProportions.width,\n\t\t\ty1 = ui.offset.top, y2 = y1 + inst.helperProportions.height;\n\n\t\tfor ( i = inst.snapElements.length - 1; i >= 0; i-- ) {\n\n\t\t\tl = inst.snapElements[ i ].left - inst.margins.left;\n\t\t\tr = l + inst.snapElements[ i ].width;\n\t\t\tt = inst.snapElements[ i ].top - inst.margins.top;\n\t\t\tb = t + inst.snapElements[ i ].height;\n\n\t\t\tif ( x2 < l - d || x1 > r + d || y2 < t - d || y1 > b + d ||\n\t\t\t\t\t!$.contains( inst.snapElements[ i ].item.ownerDocument,\n\t\t\t\t\tinst.snapElements[ i ].item ) ) {\n\t\t\t\tif ( inst.snapElements[ i ].snapping ) {\n\t\t\t\t\t( inst.options.snap.release &&\n\t\t\t\t\t\tinst.options.snap.release.call(\n\t\t\t\t\t\t\tinst.element,\n\t\t\t\t\t\t\tevent,\n\t\t\t\t\t\t\t$.extend( inst._uiHash(), { snapItem: inst.snapElements[ i ].item } )\n\t\t\t\t\t\t) );\n\t\t\t\t}\n\t\t\t\tinst.snapElements[ i ].snapping = false;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif ( o.snapMode !== \"inner\" ) {\n\t\t\t\tts = Math.abs( t - y2 ) <= d;\n\t\t\t\tbs = Math.abs( b - y1 ) <= d;\n\t\t\t\tls = Math.abs( l - x2 ) <= d;\n\t\t\t\trs = Math.abs( r - x1 ) <= d;\n\t\t\t\tif ( ts ) {\n\t\t\t\t\tui.position.top = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: t - inst.helperProportions.height,\n\t\t\t\t\t\tleft: 0\n\t\t\t\t\t} ).top;\n\t\t\t\t}\n\t\t\t\tif ( bs ) {\n\t\t\t\t\tui.position.top = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: b,\n\t\t\t\t\t\tleft: 0\n\t\t\t\t\t} ).top;\n\t\t\t\t}\n\t\t\t\tif ( ls ) {\n\t\t\t\t\tui.position.left = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tleft: l - inst.helperProportions.width\n\t\t\t\t\t} ).left;\n\t\t\t\t}\n\t\t\t\tif ( rs ) {\n\t\t\t\t\tui.position.left = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tleft: r\n\t\t\t\t\t} ).left;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfirst = ( ts || bs || ls || rs );\n\n\t\t\tif ( o.snapMode !== \"outer\" ) {\n\t\t\t\tts = Math.abs( t - y1 ) <= d;\n\t\t\t\tbs = Math.abs( b - y2 ) <= d;\n\t\t\t\tls = Math.abs( l - x1 ) <= d;\n\t\t\t\trs = Math.abs( r - x2 ) <= d;\n\t\t\t\tif ( ts ) {\n\t\t\t\t\tui.position.top = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: t,\n\t\t\t\t\t\tleft: 0\n\t\t\t\t\t} ).top;\n\t\t\t\t}\n\t\t\t\tif ( bs ) {\n\t\t\t\t\tui.position.top = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: b - inst.helperProportions.height,\n\t\t\t\t\t\tleft: 0\n\t\t\t\t\t} ).top;\n\t\t\t\t}\n\t\t\t\tif ( ls ) {\n\t\t\t\t\tui.position.left = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tleft: l\n\t\t\t\t\t} ).left;\n\t\t\t\t}\n\t\t\t\tif ( rs ) {\n\t\t\t\t\tui.position.left = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tleft: r - inst.helperProportions.width\n\t\t\t\t\t} ).left;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( !inst.snapElements[ i ].snapping && ( ts || bs || ls || rs || first ) ) {\n\t\t\t\t( inst.options.snap.snap &&\n\t\t\t\t\tinst.options.snap.snap.call(\n\t\t\t\t\t\tinst.element,\n\t\t\t\t\t\tevent,\n\t\t\t\t\t\t$.extend( inst._uiHash(), {\n\t\t\t\t\t\t\tsnapItem: inst.snapElements[ i ].item\n\t\t\t\t\t\t} ) ) );\n\t\t\t}\n\t\t\tinst.snapElements[ i ].snapping = ( ts || bs || ls || rs || first );\n\n\t\t}\n\n\t}\n} );\n\n$.ui.plugin.add( \"draggable\", \"stack\", {\n\tstart: function( event, ui, instance ) {\n\t\tvar min,\n\t\t\to = instance.options,\n\t\t\tgroup = $.makeArray( $( o.stack ) ).sort( function( a, b ) {\n\t\t\t\treturn ( parseInt( $( a ).css( \"zIndex\" ), 10 ) || 0 ) -\n\t\t\t\t\t( parseInt( $( b ).css( \"zIndex\" ), 10 ) || 0 );\n\t\t\t} );\n\n\t\tif ( !group.length ) { return; }\n\n\t\tmin = parseInt( $( group[ 0 ] ).css( \"zIndex\" ), 10 ) || 0;\n\t\t$( group ).each( function( i ) {\n\t\t\t$( this ).css( \"zIndex\", min + i );\n\t\t} );\n\t\tthis.css( \"zIndex\", ( min + group.length ) );\n\t}\n} );\n\n$.ui.plugin.add( \"draggable\", \"zIndex\", {\n\tstart: function( event, ui, instance ) {\n\t\tvar t = $( ui.helper ),\n\t\t\to = instance.options;\n\n\t\tif ( t.css( \"zIndex\" ) ) {\n\t\t\to._zIndex = t.css( \"zIndex\" );\n\t\t}\n\t\tt.css( \"zIndex\", o.zIndex );\n\t},\n\tstop: function( event, ui, instance ) {\n\t\tvar o = instance.options;\n\n\t\tif ( o._zIndex ) {\n\t\t\t$( ui.helper ).css( \"zIndex\", o._zIndex );\n\t\t}\n\t}\n} );\n\nreturn $.ui.draggable;\n\n} ) );\n"]}