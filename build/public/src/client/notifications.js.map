{"version":3,"sources":["public/src/client/notifications.js"],"names":["define","components","Notifications","init","listEl","$","on","nid","this","parents","attr","socket","emit","err","app","alertError","get","message","removeClass"],"mappings":"AAAA,aAGAA,OAAO,uBAAwB,cAAe,SAAUC,GACvD,IAAIC,KAEJA,EAAcC,KAAO,WACpB,IAAIC,EAASC,EAAE,uBACfD,EAAOE,GAAG,QAAS,wCAAyC,WAC3D,IAAIC,EAAMF,EAAEG,MAAMC,QAAQ,cAAcC,KAAK,YAC7CC,OAAOC,KAAK,yBAA0BL,EAAK,SAAUM,GACpD,GAAIA,EAAK,CACR,OAAOC,IAAIC,WAAWF,QAKzBZ,EAAWe,IAAI,0BAA0BV,GAAG,QAAS,WACpDK,OAAOC,KAAK,4BAA6B,SAAUC,GAClD,GAAIA,EAAK,CACR,OAAOC,IAAIC,WAAWF,EAAII,SAG3BhB,EAAWe,IAAI,sBAAsBE,YAAY,eAKpD,OAAOhB","file":"public/src/client/notifications.js","sourcesContent":["'use strict';\r\n\r\n\r\ndefine('forum/notifications', ['components'], function (components) {\r\n\tvar Notifications = {};\r\n\r\n\tNotifications.init = function () {\r\n\t\tvar listEl = $('.notifications-list');\r\n\t\tlistEl.on('click', '[component=\"notifications/item/link\"]', function () {\r\n\t\t\tvar nid = $(this).parents('[data-nid]').attr('data-nid');\r\n\t\t\tsocket.emit('notifications.markRead', nid, function (err) {\r\n\t\t\t\tif (err) {\r\n\t\t\t\t\treturn app.alertError(err);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tcomponents.get('notifications/mark_all').on('click', function () {\r\n\t\t\tsocket.emit('notifications.markAllRead', function (err) {\r\n\t\t\t\tif (err) {\r\n\t\t\t\t\treturn app.alertError(err.message);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcomponents.get('notifications/item').removeClass('unread');\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\treturn Notifications;\r\n});\r\n"]}