"use strict";define("forum/account/edit/email",["forum/account/header","api"],function(a,e){var r={};r.init=function(){a.init();$("#submitBtn").on("click",function(){var a=$("#inputCurrentPassword");var r={uid:$("#inputUID").val(),email:$("#inputNewEmail").val(),password:a.val()};if(!r.email){return}if(r.email===r.password){a.parents(".control-group").toggleClass("has-error",true);return app.alertError("[[user:email_same_as_password]]")}var i=$(this);i.addClass("disabled").find("i").removeClass("hide");e.put("/users/"+r.uid,r).then(a=>{i.removeClass("disabled").find("i").addClass("hide");ajaxify.go("user/"+a.userslug+"/edit")}).catch(a=>{setTimeout(()=>{i.removeClass("disabled").find("i").addClass("hide");app.alertError(a)},300)});return false})};return r});
//# sourceMappingURL=email.js.map